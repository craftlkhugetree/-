<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>this</title>
</head>
<body>
    1.到底this是谁
    任何函数本质上都是通过某个对象来调用的，如果没有直接指定就是window
    所有函数内部都有一个变量this，它的值是调用函数的当前对象


    <script>
        function Person(color){
            console.log(this)   //this代表的是谁来调用Person
            this.color= color   
            this.getColor = function(){
                console.log(this)
                return this.color
            }
            this.setColor = function (color){
                console.log(this)
                this.color=color
            }
        }

        Person("red")   //this是window
        var p = new Person("hello") //this是p
        p.getColor()    //this是p
        var obj={}
        p.setColor.call(obj,"black")    //this是obj

        var test = p.setColor
        test()  //this是window，因为这是直接调用的

        function fun1(){
            function fun2(){
                console.log(this)
            }
            fun2()  //this是window
        }
        fun1()
        
    </script>
    
    
</body>
</html>