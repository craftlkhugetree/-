1~~ 安装
node.js
node-v
npm -v
npm install -g cnpm --registry=https://registry.npm.taobao.org

error An unexpected error occurred: "https://registry.yarnpkg.com/@angular%2frouter: ESOCKETTIMEDOUT".解决：
    npm config set registry https://registry.npm.taobao.org
    npm config set disturl https://npm.taobao.org/dist
cnpm install -g @angular/cli
ng v   
vscode安装angular snippets    


cmd:where node  
gnvm config registry TAOBAO
gnvm search *.*.* 例如 gnvm search 12.*.* 
gnvm install 12.0.0
gnvm update latest      <n stable    or   n v12.0 >
gnvm ls
gnvm use 14.4.0


ng new projectName
npm i  安装依赖太慢，进入目录后用 cnpm install即可，依赖列表在package.json
应该用
ng new projectName --skip-install


ng serve --open 编译并启动服务器



2~~ 
各目录和文件的功能，比如要支持IE 9-11,就在browserslist里删除not
ng g component components/news  增加一个组件news
新建的组件扩展了html的标签

3~~
news组件
类里面没有var声明数据，而都是属性，默认public;ts object各属性间用逗号隔开
angular模板里面绑定数据、属性、html，动态数据要加中括号，angular模板里面允许简单运算。
angular模板里面循环,*ngFor="let item of arr"里的item和arr很关键

4~~
home组件
循环数据，显示数据索引：*ngFor="let item of list;let key=index;"
*ngIf="!flag"
ngswitch条件判断
[ngClass]="{'red':true}"
*ngFor="let item of list;let key=index;" [ngClass]="{'red': key==0}"
管道：{{today| date:'yyyy-MM-dd HH:mm:ss'}}
表单事件，响应，keydown鼠标按下，keyup鼠标弹起
双向数据绑定只针对表单--MVVM,业务逻辑的数据是model,而这些html是视图
<input type="text" [(ngModel)]="keywords" />
<button (click)="changeKeywords()">改变keywords</button>
import {FormsModule} from '@angular/forms'; //引入表单相关模块，才可以用双向数据绑定
imports: [      /**配置当前模块运行依赖的其他模块 */
    BrowserModule,
    FormsModule,
  ],

5~~
form组件
获取表单里的值,人员等级，预约功能
()绑定事件，[]绑定动态属性
input radio select checkbox textarea的双向数据绑定ngmodel

6~~
search组件，todolist组件
搜索缓存数据，实现一个toDoList

7~~
search组件，todolist组件,Storage服务
实现todolist数据持久化
公共的方法定义到service，否则不同组件之间无法调用方法。服务之间可以相互调用。组件之间，只有父子组件可以传值。
先创建一个服务，引入创建的服务并声明，在用到的组件里还需要引入服务，初始化并使用服务
指定any类型很好用，能够避免很多报错，当然如果类型确定那就用它的类型。
(change)="checkboxch()" 触发事件，然后去ts里编写checkboxch()函数

8~~
home组件
ngAfterViewInit():  视图加载以后触发的方法，建议dom操作放在这里
ngOnInit(): /**指令和组件初始化完成，并不是真正的dom加载完成 */
news组件
viewchild获取dom节点：
(1)在模板中给dom起一个名字<div #myBox></div>
(2)在业务逻辑里引入ViewChild
import {Component, OnInit, ViewChild} from '@angular/core';
(3)写在类里面 @ViewChild('myBox') myBox:Any;
(4)在生命周期函数 ngAfterViewInit()里面获取dom
this.myBox.nativeElement
header组件
父组件通过ViewChild调用子组件的方法
transition组件 
动画， 侧边栏

9~~
组件通讯
父组件给子组件传值：（1）子组件可以获得父组件的数据（2）子组件可以执行父组件的方法
子组件给父组件传值：（1）父组件可以获得子组件的数据（2）。。。
非父子组件：（1）组件之间传值（2）共享方法
homie header newnews footer组件
@Input 装饰器
<app-header [title1]="title" [getDadRun]="childRun" [homieWhole]="this"></app-header>   this表示整个父组件都被传递了。
怎么传递子组件你，可以用上面的ViewChild装饰器；还可以用@Output结合EventEmitter 给父组件广播数据。

10~~
生命周期函数：组件创建更新销毁时，会触发的一系列方法。
生命周期钩子方法
constructor();ngOnInit();ngAfterViewInit();ngOnDestroy()

<app-lifecycle *ngIf="flag"></app-lifecycle>  挂载和卸载该组件,ngOnDestroy()内可以写一个保存函数

11~~项目02
home组件，request服务
Rxjs异步数据流
异步的几种方法：回调函数，事件监听，Promise无法撤回无法多次，Rxjs可以取消订阅可以多次。
setInterval()定时获取数据，比如爬虫；setTimeout()是延时。
Rxjs的工具函数map filter

12~~项目02
news组件
数据交互 get jsonp post
端口域名不同会跨域，jsonp可以解决跨域问题，而post必须在服务器端允许跨域。
地址栏测试该api是否支持jsonp，可以在地址最后加上?callback=xxx看看效果，或者是cb。
cnpm install axios --save
import axios from 'axios';

13~~项目03
*ng-router-link
单页面SPA运行速度快
路由的选中状态：*ng routerLinkActive

14~~项目03
news和newscontent组件
路由跳转传值 *ng-router-link  [queryParams]=
跳转之后的接收， ActivedRoute，queryParams
动态路由：配置动态路由newscontent/:aid，path增加对象的属性名，接收是params

product和productcontent组件
js跳转之动态路由： 引入Router并声明

15~~项目03
父子路由=路由的嵌套
home和product，news组件
$ ng g c components/home/welcome
       <router-outlet></router-outlet>  <!--引入子路由网页-->

16~~项目Order-Cash
ng g module app-routing --module app --flat  不如ng new时自动生成的routing模块
用git的cli总会自动跳过是否选择路由，还是用cmd来ng new
把请求数据异步的方法以及需要的模块放在service里，然后组件来调用。

17~~自定义模块
项目Order-Cash
如果所有模块都是挂载在根模块app.module.ts，那初始化会很慢。
ng g module modules/user	新建模块，在这个目录下user模块成为根模块
ng g component modules/user	新建根组件
ng g component modules/user/components/user  在新建模块里建组件并声明
exports:[UserComponent] 暴露user组件，
组件只要暴露就能用，无需引入。
模块需要在app.module.ts引入  import{UserModule} from './modules/user/user.module';
然后就可以在根模块调用user模块，再通过user调用其下的组件。
也可以用exports暴露user下的组件，再app根模块调用。

18~~配置路由实现模块懒加载
项目lazyload
const routes: Routes = [
  {
    path:'user',loadChildren:()=>import('./modules/user/user.module').then(mod=>mod.UserModule) //#后是类名，懒加载，无需import
  },
]
ng g module modules/user --routing

根路由加载user模块，模块下若还有路由，则根据名称address加载相应组件
http://localhost:4200/user/address