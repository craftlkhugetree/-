<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button  (click)="back()">
        <ion-icon slot="start" name="chevron-back-outline" style="margin-right: 0px;color: #000;"></ion-icon>
        <span style="color: #000;">返回</span>
      </ion-button>
    </ion-buttons>
    <ion-title>项目填报</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="schedule-tab">
    <div class="schedule-tab-content" >
      <div (click)="clickTab(1)" class="schedule-tab-item" [ngStyle]="{'backgroundColor': isCheck?'#ffffff':'#f5f5f5'}">项目数据</div>
      <div (click)="clickTab(2)" class="schedule-tab-item" [ngStyle]="{'backgroundColor': isCheck?'#f5f5f5':'#ffffff'}">项目流程</div>
    </div>
  </div>

  <div *ngIf="isCheck === true">

    <div style="font-size: 17px; text-align: left;">
      <List [className]="'date-picker-list'">
        <ListItem DatePicker [extra]="currentDateFormat(value, 'mm月')" [arrow]="'horizontal'" 
        [mode]="'month'"  [maxDate]="maxDate" [minDate]="minDate"
        [(ngModel)]="value" (onOk)="onOk($event)">
          <Brief style="margin-left: 14px;">{{ name }}</Brief>
        </ListItem>
      </List>
    </div>
  
    <div style="font-size: 15px;color: #797979;line-height: 1.5;margin-top: 10px;text-align: center;">
      <div style="margin-left:13px;margin-bottom: 10px;">
        月报状态:
        <input style="margin-left: 40px;width: 220px;margin-top: 1px;" type="text" width="130" disabled
          [(ngModel)]="listOfDisplayData[0]?listOfDisplayData[0].yueBao:projectObj.yueBao"
          >
      </div>
  
      <div style="margin-left:13px;margin-bottom: 10px;">
        项目名称:
        <input style="margin-left: 40px;width: 220px;margin-top: 1px;" type="text" disabled width="130"
          [(ngModel)]="listOfDisplayData[0]?listOfDisplayData[0].project.projectName:projectObj.projectName">
      </div>
  
      <div style="margin-left:13px;margin-bottom: 10px;">
        项目单位:
        <input style="margin-left: 40px;width: 220px;margin-top: 1px;" type="text" disabled width="130"
          [(ngModel)]="listOfDisplayData[0]?listOfDisplayData[0].project.projectOrganization:projectObj.projectOrganization">
      </div>
  
      <div style="margin-left:13px;margin-bottom: 10px;">
        项目描述:
        <input style="margin-left: 40px;margin-top: 2px;height: 60px;width: 220px;" type="text" disabled
          [(ngModel)]="listOfDisplayData[0]?listOfDisplayData[0].project.constructionContent:projectObj.constructionContent">
      </div>
    </div>
  
    <div style="height: 1px;border: 3px solid #f1f1f1;"></div>
    <!-- <WhiteSpace size='xl' style="color:#797979"></WhiteSpace> -->
  
    <div style="font-size: 15px;color: #797979;line-height: 1.5;margin-top: 10px;text-align: center;">
      <div style="margin-left:13px;margin-bottom: 10px;">
        本月完成投资:
        <input style="margin-left: 10px;width: 190px;" type="number" width="130" 
          [(ngModel)]="reportObj.projectMonthInvestment" [disabled]="isReviewed">
          <a style="display:inline-block;height: 100%;width: 30px; background-color: #ccc;
            text-align: center;text-decoration: none;color: #000;
            border-top: #ccc solid 2px ;border-bottom: #ccc solid 2px ;">亿元</a>
      </div>
  
      <div style="margin-left:13px;margin-bottom: 10px;">
        年度累计投资:
        <input style="margin-left: 10px;width: 190px;" type="number" width="130" 
        [(ngModel)]="reportObj.annualInvestment" [disabled]="isReviewed" >
        <a style="display:inline-block;height: 100%;width: 30px; background-color: #ccc;
            text-align: center;text-decoration: none;color: #000;
            border-top: #ccc solid 2px ;border-bottom: #ccc solid 2px ;">亿元</a>
      </div>
  
      <div style="margin-left:13px;margin-bottom: 10px;">
        累计完成投资:
        <input style="margin-left: 10px;width: 190px;" type="number"
        [(ngModel)]="reportObj.accumulativeInvestment" [disabled]="isReviewed">
        <a style="display:inline-block;height: 100%;width: 30px; background-color: #ccc;
            text-align: center;text-decoration: none;color: #000;
            border-top: #ccc solid 2px ;border-bottom: #ccc solid 2px ;">亿元</a>
      </div>

      <div style="margin-left:13px;margin-bottom: 10px;">
        形象进度:
        <input style="margin-left: 39px;height: 30px;width: 220px;" type="text"
          [(ngModel)]="reportObj.currentImageProgress" [disabled]="isReviewed">
      </div>
      
      <div style="margin-left:13px;margin-bottom: 10px;">
        问题及困难:
        <input style="margin-left: 24px;height: 40px;width: 220px;" type="text"
          [(ngModel)]="reportObj.projectIssueDescribe" [disabled]="isReviewed">
      </div>
  
    </div>
  
    <!-- width: 50%;margin-left: 30%;  -->
    <div Button [type]="'primary'" (click)="saveReport()" style="text-align:center;width: 80%;margin: 20px auto 100px auto;"
      [disabled]="isReviewed
      || !reportObj.annualInvestment
      || !reportObj.accumulativeInvestment
      || !reportObj.projectIssueDescribe
      || !reportObj.projectMonthInvestment 
      || !reportObj.currentImageProgress">保存</div>
    </div>


  <div *ngIf=" isCheck === false">
    
    <!-- 审批流程 -->
    <div style="height: 10px;background-color: #f1f1f1;"></div>

    <div>
      <div style="width: 100%; padding: 5px 15px 5px 25px; height: 40px; background-color: #ffffff;">
        <div style="height: 17px;width: 5px;background-color: #41A1F7;float:left;margin-top: 7px;"></div>
        <div style="float: left; font-size: 15px; height: 35px; padding: 5px;font-weight: 600;margin-left: 5px;">审批流程</div> 
      </div>

      <div *ngFor="let data of Approval" style="font-size: 16px;line-height: 3;color: #5d5d5d;">
        <div style="display: flex;justify-content: space-between;border-top: 1px solid #f1f1f1;">
          <div style="margin-left: 3em;">{{data[0].processName}}</div>
          <div style="margin-right: 3em;">
            <a *ngIf="data[0].stateDescription==='已办理'" (click)="jump(data[0],1,value)" style="color:#5ece83;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='正在办理'" (click)="jump(data[0],1,value)" style="color:#ffb400;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='无需办理'" (click)="jump(data[0],1,value)" style="color:#ad6bda;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='未办理'" (click)="jump(data[0],1,value)" style="color:#e9434c;text-decoration:underline;">{{data[0].stateDescription}}</a>
          </div>
        </div>


      </div>

    </div>



    <!-- 建设流程 -->
    <div style="height: 10px;background-color: #f1f1f1;"></div>

    <div>
      <div style="width: 100%; padding: 5px 15px 5px 25px; height: 40px; background-color: #ffffff;">
        <div style="height: 17px;width: 5px;background-color: #41A1F7;float:left;margin-top: 7px;"></div>
        <div style="float: left; font-size: 15px; height: 35px; padding: 5px;font-weight: 600;margin-left: 5px;">建设流程 </div> 
      </div>

      <div *ngFor="let data of build" style="font-size: 16px;line-height: 3;color: #5d5d5d;">
        <div style="display: flex;justify-content: space-between;border-top: 1px solid #f1f1f1;">
          <div style="margin-left: 3em;">{{data[0].constructionName}}</div>
          <div style="margin-right: 3em;">
            <a *ngIf="data[0].stateDescription==='已办理'" (click)="jump(data[0],2,value)" style="color:#5ece83;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='正在办理'" (click)="jump(data[0],2,value)" style="color:#ffb400;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='无需办理'" (click)="jump(data[0],2,value)" style="color:#ad6bda;text-decoration:underline;">{{data[0].stateDescription}}</a>
            <a *ngIf="data[0].stateDescription==='未办理'" (click)="jump(data[0],2,value)" style="color:#e9434c;text-decoration:underline;">{{data[0].stateDescription}}</a>
          </div>
        </div>

      </div>

    </div>

    <div style="height: 10px;background-color: #f1f1f1;"></div>


  </div>





</ion-content>
